<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>HackRF RC Car - HHVLabs</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">HHVLabs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Labs <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">2016</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">HackRF RC Car</a>
</li>

        
            
<li >
    <a href="../../software-2016/">Software</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../..">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../../software-2016/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#controlling-rc-car-with-hackrf">Controlling RC Car with HackRF</a></li>
        
            <li><a href="#whats-the-frequency-kenneth">What's the Frequency, Kenneth?</a></li>
        
            <li><a href="#how-does-this-thing-work">How does this thing work?</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h3 id="controlling-rc-car-with-hackrf">Controlling RC Car with HackRF</h3>
<h4 id="whats-the-frequency-kenneth">What's the Frequency, Kenneth?</h4>
<p>The first thing we need to know is what frequency your chosen rf car uses.
Some devices will have a label to get you close.  Another option would be to
<a href="https://www.fcc.gov/general/fcc-id-search-page">look up the FCC ID</a> to find
the band it runs in.</p>
<p>Once you have an idea of where it runs, we need the exact frequency.  I used
<a href="../gqrx.dk">gqrx</a>, since is relatively simple and included in debian-based
distributions.</p>
<p>Make sure the HackRF is plugged in to a USB port with lights on, then run <code>gqrx
-e</code> (the <code>-e</code> means you want to edit settings).</p>
<p><img alt="gqrx - Configure I/O devices" src="../gqrx-configure-io.png" /></p>
<ol>
<li>In the Device field, choose the HackRF</li>
<li>Set Input Rate to an appropriate vaule (higher will cover more of the band)</li>
<li>Click OK</li>
</ol>
<p>Now, tune the receiver to somewhere you will be able to see the frequency you
are interested in and press the button that looks like a 'play' button.  To
tune, scroll the mouse wheel with the mouse cursor over the digit you want to
change on the frequency display.  The red line is where we are tuned to (for
purposes of demodulation), the light dotted line in the center of the waveform
display is the center frequency that the hackrf is tuned to.  On the right pane
in the 'Receiver Options' pane, you will see an offset from the center
frequency.</p>
<p><img alt="gqrx - FM - 97.5 MHz" src="../gqrx-receiver-97500000.jpg" /></p>
<p>This is an example of the lack of radio stations available in Cache Valley.  The HackRF is tuned to 94.000 MHz, the receiver is tuned 3.5 MHz above that and listening to 97.5 MHz demodulated as WFM(mono).  </p>
<p>To find your frequency, press and hold one of the controls on the remote and see if you see it appear in the waterfall display.  If you click in the waterfall display, it will tune to that frequency.  To get a better view of your current frequency, go to the FFT Settings tab on the right panel and increase the zoom.</p>
<h4 id="how-does-this-thing-work">How does this thing work?</h4>
<p>Now that you know the frequency, you can get a capture of the output from your remote.  Go to Tools -&gt; I/Q Recorder and record a sample.  From here, you could just replay the recorded sample and control your car.</p>
<p>Now, let's get a closer look.  Let's open the file in <a href="https://github.com/miek/inspectrum">inspectrum</a>.  Run <code>inspectrum &lt;path/to/file.raw&gt;</code>.  The vertical axis is frequency relative to the center frequency, the horizontal axis is time.  Scroll to the right until you find your signal.  Notice that the signal is not continuous.  Zoom in so you can comfortably see where the gaps are.  Now, check the 'enable cursors' box and highlight a gap.  Now, increase the number of symbols and adjust the end to get a more accurate measurement.  Here is how mine looked:</p>
<p><img alt="inspectrum - rf control signal" src="../inspectrum-rf-signal.jpg" /></p>
<p>In this example, the symbol rate is 1875 symbols/second, each symbol taking 533 microseconds.</p>
<p>If you are really ambitious, from this point you can now reverse-engineer the protocol (ie. see what the pattern is for each of the controls).  It would be a really good learning experience for you.  To save time, however, we will look at the end result from someone who has done it for us.</p>
<p>Run <code>rf-car -f &lt;determined_frequency_in_hz&gt;</code>.  The default frequency is 40684300 which is around 40.7 MHz.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>